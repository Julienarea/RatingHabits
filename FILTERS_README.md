# Документация по фильтрам задач и привычек

## Что реализовано

### HTML (index.html)
1. **Добавлены атрибуты `data-status`** к элементам задач и привычек:
   - Для задач: `data-status="{{ task.status }}"` (значения: `in_progress` или `completed`)
   - Для привычек: `data-status="{% if habit.streak > 0 %}completed{% else %}in_progress{% endif %}"`

2. **Добавлен фильтр "Все"** в обе секции (задачи и привычки)

3. **Класс `active`** по умолчанию установлен на фильтр "Все"

### JavaScript (script.js)
1. **Функция `applyTaskFilter(filter)`** — фильтрует задачи:
   - `all` — показывает все задачи
   - `active` — показывает только задачи со статусом `in_progress`
   - `completed` — показывает только выполненные задачи

2. **Функция `applyHabitFilter(filter)`** — фильтрует привычки:
   - `all` — показывает все привычки
   - `active` — показывает привычки с серией = 0 (не активные)
   - `completed` — показывает привычки с серией > 0 (активные)

3. **Обработчики кликов** на фильтры:
   - Переключают класс `active`
   - Вызывают соответствующую функцию фильтрации

4. **Автоматическое обновление фильтров** при изменении статуса:
   - Когда пользователь ставит/снимает галочку, обновляется `data-status`
   - Автоматически применяется текущий активный фильтр

## Как работает

### Для задач:
1. При клике на фильтр "Активные" — скрываются все задачи с `data-status="completed"`
2. При клике на "Сделанные" — скрываются задачи с `data-status="in_progress"`
3. При клике на "Все" — показываются все задачи

### Для привычек:
1. Привычки с серией > 0 считаются "выполненными" (`completed`)
2. Привычки с серией = 0 считаются "активными" (`in_progress`)
3. Фильтры работают аналогично задачам

## Поведение при изменении статуса

Когда пользователь:
- **Ставит галочку на задаче** → статус меняется на `completed`, фильтр пересчитывается
- **Снимает галочку** → статус меняется на `in_progress`, фильтр пересчитывается
- **Меняет привычку** → streak обновляется, `data-status` пересчитывается, фильтр применяется заново

## CSS стили

В `style.css` уже есть стили для фильтров:
- `.filter` — базовый вид
- `.filter:hover` — при наведении
- `.filter.active` — активный фильтр (жирный шрифт + синий цвет)

## Возможные улучшения

1. **Анимация появления/исчезновения** элементов (fade in/out)
2. **Счётчики** количества задач/привычек в каждом фильтре
3. **Сохранение выбранного фильтра** в localStorage
4. **Серверная фильтрация** (если список очень большой)
5. **Дополнительные фильтры**: по дате, по приоритету и т.д.
